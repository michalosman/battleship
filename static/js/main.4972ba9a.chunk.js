(this.webpackJsonpbattleship=this.webpackJsonpbattleship||[]).push([[0],{25:function(n,t,e){"use strict";e.r(t);var r,i,o,a,s,c,d,h,u,l,f,b,m,j,p,g,O,v=e(0),y=e.n(v),x=e(11),k=e.n(x),w=e(3),S=e(2),C=e(15),M=e(1),H=S.d.footer(r||(r=Object(w.a)(["\n  position: absolute;\n  bottom: 0;\n  left: 0;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 100%;\n  padding: ",";\n  font-size: 2.4rem;\n"])),(function(n){return n.theme.padding.sm})),z=S.d.a(i||(i=Object(w.a)(["\n  display: flex;\n  margin-left: 1rem;\n  color: ",";\n  transition: transform 0.15s ease-in-out;\n\n  &:hover {\n    transform: scale(1.2);\n  }\n"])),(function(n){return n.theme.colors.dark.primary})),A=function(){return Object(M.jsxs)(H,{children:["Copyright \xa9 2021 michalosman",Object(M.jsx)(z,{href:"https://github.com/michalosman",target:"_blank",rel:"noopener",children:Object(M.jsx)(C.a,{})})]})},P=S.d.header(o||(o=Object(w.a)(["\n  padding: ",";\n  font-family: 'Big Shoulders Stencil Text', cursive;\n  font-size: 12rem;\n  font-weight: 900;\n  letter-spacing: 1rem;\n  line-height: 1;\n  text-align: center;\n"])),(function(n){return n.theme.padding.lg})),G=function(){return Object(M.jsx)(P,{children:"BATTLESHIP"})},E=e(4),F=e(5),R=e(6),B=function(){function n(t){Object(F.a)(this,n),this.length=void 0,this.hits=void 0,this.length=t,this.hits=[]}return Object(R.a)(n,[{key:"hit",value:function(n){this.hits.includes(n)||n<0||n>=this.length||this.hits.push(n)}},{key:"isSunk",value:function(){return this.hits.length===this.length}}]),n}(),T=10,I=function(){function n(){Object(F.a)(this,n),this.board=void 0,this.missedShots=void 0,this.board=[],this.missedShots=[],this.initialize()}return Object(R.a)(n,[{key:"initialize",value:function(){for(var n=0;n<T;n++){this.board[n]=[],this.missedShots[n]=[];for(var t=0;t<T;t++)this.board[n][t]=null,this.missedShots[n][t]=!1}}},{key:"placeShip",value:function(n,t,e,r){if(!this.isPlacementPossible(n,t,e,r))return!1;if(r)for(var i=0;i<n.length;i++)this.board[t][e+i]=n;else for(var o=0;o<n.length;o++)this.board[t+o][e]=n;return!0}},{key:"placeShipsRandomly",value:function(){if(this.isEmpty()){var n=[],t=new B(5),e=new B(4),r=new B(3),i=new B(3),o=new B(2);n.push(t,e,r,i,o);for(var a=0;a<5;){var s=Math.floor(10*Math.random()),c=Math.floor(10*Math.random()),d=1===Math.floor(2*Math.random());this.placeShip(n[a],s,c,d)&&a++}}}},{key:"isPlacementPossible",value:function(n,t,e,r){if(t<0||t>9||e<0||e>9)return!1;if(r){if(e+n.length>T)return!1}else if(t+n.length>T)return!1;if(r){for(var i=0;i<n.length;i++)if(this.board[t][e+i])return!1}else for(var o=0;o<n.length;o++)if(this.board[t+o][e])return!1;if(r){for(var a=0;a<n.length;a++)for(var s=-1;s<=1;s++)for(var c=-1;c<=1;c++)if(!(t+s<0||t+s>=T||e+c+a<0||e+c+a>=T)&&this.board[t+s][e+c+a])return!1}else for(var d=0;d<n.length;d++)for(var h=-1;h<=1;h++)for(var u=-1;u<=1;u++)if(!(t+h+d<0||t+h+d>=T||e+u<0||e+u>=T)&&this.board[t+h+d][e+u])return!1;return!0}},{key:"receiveAttack",value:function(n,t){if(n<0||n>=T||t<0||t>=T)return!1;if(this.board[n][t]){var e=0;if(t>0&&this.board[n][t-1])for(var r=1;t-r>=0&&this.board[n][t-r];)e++,r++;else if(n>0&&this.board[n-1][t])for(var i=1;n-i>=0&&this.board[n-i][t];)e++,i++;return this.board[n][t].hit(e),!0}return this.missedShots[n][t]=!0,!1}},{key:"isGameOver",value:function(){for(var n=!0,t=0;t<T;t++)for(var e=0;e<T;e++)if(this.board[t][e]&&(n=!1,!this.board[t][e].isSunk()))return!1;return!n}},{key:"isEmpty",value:function(){for(var n=0;n<T;n++)for(var t=0;t<T;t++)if(null!==this.board[n][t])return!1;return!0}},{key:"getEmptyFieldsAmount",value:function(){for(var n=0,t=0;t<T;t++)for(var e=0;e<T;e++)null===this.board[t][e]&&n++;return n}}]),n}(),J=function(){function n(t){Object(F.a)(this,n),this.name=void 0,this.alreadyHitCoords=void 0,this.name=t,this.alreadyHitCoords=[]}return Object(R.a)(n,[{key:"attack",value:function(n,t,e){this.hasAlreadyHit(n,t)||(this.alreadyHitCoords.push([n,t]),e.receiveAttack(n,t))}},{key:"randomAttack",value:function(n){if(100!==this.alreadyHitCoords.length){for(var t=Math.floor(10*Math.random()),e=Math.floor(10*Math.random());this.hasAlreadyHit(t,e);)t=Math.floor(10*Math.random()),e=Math.floor(10*Math.random());this.alreadyHitCoords.push([t,e]),n.receiveAttack(t,e)}}},{key:"hasAlreadyHit",value:function(n,t){for(var e=0;e<this.alreadyHitCoords.length;e++)if(this.alreadyHitCoords[e][0]===n&&this.alreadyHitCoords[e][1]===t)return!0;return!1}}]),n}(),U=e(27),L=S.d.div(a||(a=Object(w.a)(["\n  display: grid;\n  width: 40rem;\n  height: 40rem;\n  grid-template-columns: repeat(10, 1fr);\n  grid-template-rows: repeat(10, 1fr);\n  border: 1px solid ",";\n"])),(function(n){return n.theme.colors.dark.primary})),Y=S.d.div(s||(s=Object(w.a)(["\n  border: 1px solid ",";\n\n  ","\n\n  ","\n  \n  ","\n\n  ","\n"])),(function(n){return n.theme.colors.dark.primary}),(function(n){return"default"===n.status&&Object(S.c)(c||(c=Object(w.a)(["\n      background-color: ",";\n\n      ","\n    "])),(function(n){return n.theme.colors.light.primary}),(function(n){return"Computer"===n.owner.name&&Object(S.c)(d||(d=Object(w.a)(["\n          cursor: pointer;\n\n          &:hover {\n            background-color: ",";\n          }\n        "])),(function(n){return n.theme.colors.light.secondary}))}))}),(function(n){return"ship"===n.status&&Object(S.c)(h||(h=Object(w.a)(["\n      background-color: ",";\n    "])),(function(n){return n.theme.colors.dark.secondary}))}),(function(n){return"missed"===n.status&&Object(S.c)(u||(u=Object(w.a)(["\n      background-color: ",";\n    "])),(function(n){return n.theme.colors.green}))}),(function(n){return"hit"===n.status&&Object(S.c)(l||(l=Object(w.a)(["\n      background-color: ",";\n    "])),(function(n){return n.theme.colors.red}))})),_=function(n){var t=n.gameboard,e=n.owner,r=n.enemy,i=n.onFieldClick;return Object(M.jsx)(L,{children:function(){for(var n=[],o=function(o){for(var a=function(a){var s="default";t.board[o][a]?("Computer"!==e.name&&(s="ship"),r.hasAlreadyHit(o,a)&&(s="hit")):t.missedShots[o][a]&&(s="missed");var c=Object(M.jsx)(Y,{});c="Computer"===e.name?Object(M.jsx)(Y,{status:s,owner:e,onClick:function(){return i(o,a)}},Object(U.a)()):Object(M.jsx)(Y,{status:s,owner:e},Object(U.a)()),n.push(c)},s=0;s<t.board[o].length;s++)a(s)},a=0;a<t.board.length;a++)o(a);return n}()})},q=S.d.button(f||(f=Object(w.a)(["\n  padding: "," ",";\n  border-radius: ",";\n  background-color: ",";\n  color: ",";\n  transition: transform 0.1s ease-in-out;\n\n  &:hover {\n    transform: scale(1.03);\n  }\n"])),(function(n){return n.theme.padding.sm}),(function(n){return n.theme.padding.md}),(function(n){return n.theme.borderRadius.md}),(function(n){return n.theme.colors.dark.primary}),(function(n){return n.theme.colors.light.primary})),D=function(n){var t=n.content,e=n.onClick;return Object(M.jsx)(q,{onClick:e,children:t})},K=S.d.div(b||(b=Object(w.a)(["\n  position: absolute;\n  top: 0;\n  right: 0;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  height: 100%;\n  width: 100%;\n"]))),N=S.d.p(m||(m=Object(w.a)(["\n  position: relative;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: space-around;\n  width: 500px;\n  height: 300px;\n  background-color: ",";\n  z-index: 2;\n  padding: ",";\n  border-radius: ","; ;\n"])),(function(n){return n.theme.colors.light.primary}),(function(n){return n.theme.padding.md}),(function(n){return n.theme.borderRadius.md})),Q=S.d.div(j||(j=Object(w.a)(["\n  position: absolute;\n  z-index: 1;\n  top: 0;\n  right: 0;\n  height: 100%;\n  width: 100%;\n  background-color: black;\n  opacity: 0.6;\n"]))),V=function(n){var t=n.message,e=n.resetGame;return Object(M.jsxs)(K,{children:[Object(M.jsxs)(N,{children:[Object(M.jsx)("p",{children:t}),Object(M.jsx)(D,{content:"Play again",onClick:e})]}),Object(M.jsx)(Q,{})]})},W=S.d.div(p||(p=Object(w.a)(["\n  font-size: 5rem;\n"]))),X=S.d.div(g||(g=Object(w.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  gap: 5rem;\n"]))),Z=function(){var n=Object(v.useState)(!1),t=Object(E.a)(n,2),e=t[0],r=t[1],i=Object(v.useState)(""),o=Object(E.a)(i,2),a=o[0],s=o[1],c=Object(v.useState)(new J("User")),d=Object(E.a)(c,2),h=d[0],u=d[1],l=Object(v.useState)(new J("Computer")),f=Object(E.a)(l,2),b=f[0],m=f[1],j=Object(v.useState)(new I),p=Object(E.a)(j,2),g=p[0],O=p[1],y=Object(v.useState)(new I),x=Object(E.a)(y,2),k=x[0],w=x[1];Object(v.useEffect)((function(){S()}),[]);var S=function(){var n=new I;n.placeShipsRandomly(),O(n);var t=new I;t.placeShipsRandomly(),w(t)};return Object(M.jsxs)(W,{children:[e?Object(M.jsx)(V,{message:a,resetGame:function(){u(new J("User")),m(new J("Computer")),S(),r(!1)}}):"",Object(M.jsxs)(X,{children:[Object(M.jsx)(_,{gameboard:g,owner:h,enemy:b}),Object(M.jsx)(_,{gameboard:k,owner:b,enemy:h,onFieldClick:function(n,t){if(!k.isGameOver()&&!g.isGameOver()&&!h.hasAlreadyHit(n,t)){var e=Object.assign(Object.create(Object.getPrototypeOf(h)),h),i=Object.assign(Object.create(Object.getPrototypeOf(b)),b),o=Object.assign(Object.create(Object.getPrototypeOf(g)),g),a=Object.assign(Object.create(Object.getPrototypeOf(k)),k);return e.attack(n,t,a),u(e),w(a),k.isGameOver()?(s("You won"),void r(!0)):(i.randomAttack(o),m(i),O(o),g.isGameOver()?(s("Computer won"),void r(!0)):void 0)}}})]})]})},$=S.d.main(O||(O=Object(w.a)(["\n  margin-top: 12rem;\n"]))),nn=function(){return Object(M.jsx)($,{children:Object(M.jsx)(Z,{})})};var tn,en=function(){return Object(M.jsxs)(M.Fragment,{children:[Object(M.jsx)(G,{}),Object(M.jsx)(nn,{}),Object(M.jsx)(A,{})]})},rn={colors:{light:{primary:"#eee",secondary:"#ddd"},dark:{primary:"#222",secondary:"#444"},red:"#ff8585",green:"#85ffb3"},padding:{sm:"1rem",md:"2rem",lg:"4rem"},width:{sm:"500px",md:"1000px",lg:"1500px"},borderRadius:{sm:"5px",md:"10px",lg:"20px"}},on=S.b(tn||(tn=Object(w.a)(["\n  *,\n  *::before,\n  *::after {\n    box-sizing: border-box;\n    padding: 0;\n    margin: 0;\n  }\n\n  html {\n    font-size: 62.5%;\n    line-height: 1.6;\n    /* Footer support */\n    position: relative;\n    min-height: 100%;\n  }\n\n  body {\n    font-family: 'Poppins', sans-serif;\n    font-size: 1.6rem;\n    background-color: ",";\n    color: ",";\n    /* Footer support */\n    margin-bottom: 5.2rem;\n  }\n\n  h1,\n  h2,\n  h3,\n  h4,\n  h5,\n  h6 {\n    line-height: 1.2;\n  }\n\n  a {\n    text-decoration: none;\n  }\n\n  img {\n    display: block;\n    width: 100%;\n  }\n\n  button,\n  input,\n  textarea {\n    border: none;\n    outline: none;\n    color: inherit;\n    font-family: inherit;\n    font-size: inherit;\n  }\n\n  button {\n    cursor: pointer;\n  }\n\n  @media (max-width: 1600px) {\n    html {\n      font-size: 55%;\n    }\n  }\n\n  @media (max-width: 1400px) {\n    html {\n      font-size: 45%;\n    }\n  }\n"])),(function(n){return n.theme.colors.light.primary}),(function(n){return n.theme.colors.dark.primary}));k.a.render(Object(M.jsx)(y.a.StrictMode,{children:Object(M.jsxs)(S.a,{theme:rn,children:[Object(M.jsx)(on,{}),Object(M.jsx)(en,{})]})}),document.getElementById("root"))}},[[25,1,2]]]);
//# sourceMappingURL=main.4972ba9a.chunk.js.map