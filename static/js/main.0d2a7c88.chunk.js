(this.webpackJsonpbattleship=this.webpackJsonpbattleship||[]).push([[0],{26:function(e,n,t){"use strict";t.r(n);var r,i,o,a,c,s,d,h,u,l,b,m,f,j,p,O,g,v,y,x,k,w,S,C,z,H,P=t(1),M=t.n(P),A=t(11),G=t.n(A),F=t(3),E=t(2),R=t(15),B=t(0),L=E.d.footer(r||(r=Object(F.a)(["\n  position: absolute;\n  bottom: 0;\n  left: 0;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 100%;\n  padding: ",";\n  font-size: 2.4rem;\n"])),(function(e){return e.theme.padding.sm})),U=E.d.a(i||(i=Object(F.a)(["\n  display: flex;\n  margin-left: 1rem;\n  color: ",";\n  transition: transform 0.15s ease-in-out;\n\n  &:hover {\n    transform: scale(1.2);\n  }\n"])),(function(e){return e.theme.colors.dark.primary})),T=function(){return Object(B.jsxs)(L,{children:["Copyright \xa9 2021 michalosman",Object(B.jsx)(U,{href:"https://github.com/michalosman",target:"_blank",rel:"noopener",children:Object(B.jsx)(R.a,{})})]})},V=E.d.header(o||(o=Object(F.a)(["\n  padding: ",";\n  font-family: 'Big Shoulders Stencil Text', cursive;\n  font-size: 12rem;\n  font-weight: 900;\n  letter-spacing: 1rem;\n  line-height: 1;\n  text-align: center;\n\n  @media (max-width: 768px) {\n    font-size: 7rem;\n  }\n"])),(function(e){return e.theme.padding.lg})),I=function(){return Object(B.jsx)(V,{children:"BATTLESHIP"})},J=t(4),D=t(5),W=t(6),Y=function(){function e(n){Object(D.a)(this,e),this.length=void 0,this.hits=void 0,this.length=n,this.hits=[]}return Object(W.a)(e,[{key:"hit",value:function(e){this.hits.includes(e)||e<0||e>=this.length||this.hits.push(e)}},{key:"isSunk",value:function(){return this.hits.length===this.length}}]),e}(),_=10,q=function(){function e(){Object(D.a)(this,e),this.board=void 0,this.missedShots=void 0,this.board=[],this.missedShots=[],this.initialize()}return Object(W.a)(e,[{key:"initialize",value:function(){for(var e=0;e<_;e++){this.board[e]=[],this.missedShots[e]=[];for(var n=0;n<_;n++)this.board[e][n]=null,this.missedShots[e][n]=!1}}},{key:"placeShip",value:function(e,n,t,r){if(!this.isPlacementPossible(e,n,t,r))return!1;if(r)for(var i=0;i<e.length;i++)this.board[n+i][t]=e;else for(var o=0;o<e.length;o++)this.board[n][t+o]=e;return!0}},{key:"placeShipsRandomly",value:function(){if(this.isEmpty()){var e=[],n=new Y(5),t=new Y(4),r=new Y(3),i=new Y(3),o=new Y(2);e.push(n,t,r,i,o);for(var a=0;a<5;){var c=Math.floor(10*Math.random()),s=Math.floor(10*Math.random()),d=1===Math.floor(2*Math.random());this.placeShip(e[a],c,s,d)&&a++}}}},{key:"isPlacementPossible",value:function(e,n,t,r){if(n<0||n>9||t<0||t>9)return!1;if(r){if(n+e.length>_)return!1}else if(t+e.length>_)return!1;if(r){for(var i=0;i<e.length;i++)if(this.board[n+i][t])return!1}else for(var o=0;o<e.length;o++)if(this.board[n][t+o])return!1;if(r){for(var a=0;a<e.length;a++)for(var c=-1;c<=1;c++)for(var s=-1;s<=1;s++)if(!(n+c+a<0||n+c+a>=_||t+s<0||t+s>=_)&&this.board[n+c+a][t+s])return!1}else for(var d=0;d<e.length;d++)for(var h=-1;h<=1;h++)for(var u=-1;u<=1;u++)if(!(n+h<0||n+h>=_||t+u+d<0||t+u+d>=_)&&this.board[n+h][t+u+d])return!1;return!0}},{key:"receiveAttack",value:function(e,n){if(e<0||e>=_||n<0||n>=_)return!1;if(this.board[e][n]){var t=0;if(n>0&&this.board[e][n-1])for(var r=1;n-r>=0&&this.board[e][n-r];)t++,r++;else if(e>0&&this.board[e-1][n])for(var i=1;e-i>=0&&this.board[e-i][n];)t++,i++;return this.board[e][n].hit(t),!0}return this.missedShots[e][n]=!0,!1}},{key:"isGameOver",value:function(){for(var e=!0,n=0;n<_;n++)for(var t=0;t<_;t++)if(this.board[n][t]&&(e=!1,!this.board[n][t].isSunk()))return!1;return!e}},{key:"isEmpty",value:function(){for(var e=0;e<_;e++)for(var n=0;n<_;n++)if(null!==this.board[e][n])return!1;return!0}},{key:"getEmptyFieldsAmount",value:function(){for(var e=0,n=0;n<_;n++)for(var t=0;t<_;t++)null===this.board[n][t]&&e++;return e}}]),e}(),K=function(){function e(n){Object(D.a)(this,e),this.name=void 0,this.alreadyHitCoords=void 0,this.name=n,this.alreadyHitCoords=[]}return Object(W.a)(e,[{key:"attack",value:function(e,n,t){this.hasAlreadyHit(e,n)||(this.alreadyHitCoords.push([e,n]),t.receiveAttack(e,n))}},{key:"randomAttack",value:function(e){if(100!==this.alreadyHitCoords.length){for(var n=Math.floor(10*Math.random()),t=Math.floor(10*Math.random());this.hasAlreadyHit(n,t);)n=Math.floor(10*Math.random()),t=Math.floor(10*Math.random());this.alreadyHitCoords.push([n,t]),e.receiveAttack(n,t)}}},{key:"hasAlreadyHit",value:function(e,n){for(var t=0;t<this.alreadyHitCoords.length;t++)if(this.alreadyHitCoords[t][0]===e&&this.alreadyHitCoords[t][1]===n)return!0;return!1}}]),e}(),N=t(27),Q=E.d.div(a||(a=Object(F.a)(["\n  display: grid;\n  width: 40rem;\n  height: 40rem;\n  grid-template-columns: repeat(10, 1fr);\n  grid-template-rows: repeat(10, 1fr);\n  border: 1px solid ",";\n"])),(function(e){return e.theme.colors.dark.primary})),X=E.d.div(c||(c=Object(F.a)(["\n  border: 1px solid ",";\n\n  ","\n\n  ","\n  \n  ","\n\n  ","\n"])),(function(e){return e.theme.colors.dark.primary}),(function(e){return"default"===e.status&&Object(E.c)(s||(s=Object(F.a)(["\n      background-color: ",";\n\n      ","\n    "])),(function(e){return e.theme.colors.light.primary}),(function(e){return"Computer"===e.owner.name&&Object(E.c)(d||(d=Object(F.a)(["\n          cursor: pointer;\n\n          &:hover {\n            background-color: ",";\n          }\n        "])),(function(e){return e.theme.colors.light.secondary}))}))}),(function(e){return"ship"===e.status&&Object(E.c)(h||(h=Object(F.a)(["\n      background-color: ",";\n    "])),(function(e){return e.theme.colors.dark.secondary}))}),(function(e){return"missed"===e.status&&Object(E.c)(u||(u=Object(F.a)(["\n      background-color: ",";\n    "])),(function(e){return e.theme.colors.green}))}),(function(e){return"hit"===e.status&&Object(E.c)(l||(l=Object(F.a)(["\n      background-color: ",";\n    "])),(function(e){return e.theme.colors.red}))})),Z=function(e){var n=e.gameboard,t=e.owner,r=e.enemy,i=e.onFieldClick;return Object(B.jsx)(Q,{children:function(){for(var e=[],o=function(o){for(var a=function(a){var c="default";n.board[o][a]?("Computer"!==t.name&&(c="ship"),r.hasAlreadyHit(o,a)&&(c="hit")):n.missedShots[o][a]&&(c="missed");var s=Object(B.jsx)(X,{});s="Computer"===t.name?Object(B.jsx)(X,{status:c,owner:t,onClick:function(){return i(o,a)}},Object(N.a)()):Object(B.jsx)(X,{status:c,owner:t},Object(N.a)()),e.push(s)},c=0;c<n.board[o].length;c++)a(c)},a=0;a<n.board.length;a++)o(a);return e}()})},$=E.d.button(b||(b=Object(F.a)(["\n  padding: "," ",";\n  border-radius: ",";\n  background-color: ",";\n  color: ",";\n  transition: transform 0.1s ease-in-out;\n\n  &:hover {\n    transform: scale(1.03);\n  }\n"])),(function(e){return e.theme.padding.sm}),(function(e){return e.theme.padding.md}),(function(e){return e.theme.borderRadius.md}),(function(e){return e.theme.colors.dark.primary}),(function(e){return e.theme.colors.light.primary})),ee=function(e){var n=e.content,t=e.onClick;return Object(B.jsx)($,{onClick:t,children:n})},ne=E.d.div(m||(m=Object(F.a)(["\n  position: absolute;\n  top: 0;\n  right: 0;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  height: 100%;\n  width: 100%;\n"]))),te=E.d.div(f||(f=Object(F.a)(["\n  position: relative;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: space-around;\n  width: 500px;\n  height: 300px;\n  background-color: ",";\n  z-index: 2;\n  padding: ",";\n  border-radius: ","; ;\n"])),(function(e){return e.theme.colors.light.primary}),(function(e){return e.theme.padding.md}),(function(e){return e.theme.borderRadius.md})),re=E.d.div(j||(j=Object(F.a)(["\n  position: absolute;\n  z-index: 1;\n  top: 0;\n  right: 0;\n  height: 100%;\n  width: 100%;\n  background-color: black;\n  opacity: 0.6;\n"]))),ie=function(e){var n=e.message,t=e.resetGame;return Object(B.jsxs)(ne,{children:[Object(B.jsxs)(te,{children:[Object(B.jsx)("p",{children:n}),Object(B.jsx)(ee,{content:"Play again",onClick:t})]}),Object(B.jsx)(re,{})]})},oe=E.d.div(p||(p=Object(F.a)(["\n  position: absolute;\n  top: 0;\n  right: 0;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 100%;\n  height: 100%;\n  font-size: 3rem;\n"]))),ae=E.d.div(O||(O=Object(F.a)(["\n  position: relative;\n  z-index: 2;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: space-around;\n  width: 50rem;\n  height: 80rem;\n  padding: ",";\n  background-color: ",";\n"])),(function(e){return e.theme.padding.md}),(function(e){return e.theme.colors.light.secondary})),ce=E.d.div(g||(g=Object(F.a)(["\n  display: grid;\n  grid-template-columns: repeat(10, 4rem);\n  grid-template-rows: repeat(10, 4rem);\n  width: 40.2rem;\n  height: 40.2rem;\n  border: 0.1rem solid ",";\n"])),(function(e){return e.theme.colors.dark.primary})),se=E.d.div(v||(v=Object(F.a)(["\n  border: 0.1rem solid ",";\n  cursor: pointer;\n\n  ","\n"])),(function(e){return e.theme.colors.dark.primary}),(function(e){return e.isFilled&&Object(E.c)(y||(y=Object(F.a)(["\n      background-color: ",";\n    "])),(function(e){return e.theme.colors.dark.secondary}))})),de=E.d.div(x||(x=Object(F.a)(["\n  position: relative;\n  height: 3.8rem;\n  width: 3.8rem;\n\n  &:hover {\n    background-color: ",";\n\n    ","\n\n    ","\n  }\n"])),(function(e){return e.theme.colors.green}),(function(e){var n=e.isVertical,t=e.shipLength;return n&&Object(E.c)(k||(k=Object(F.a)(["\n        height: calc(3.8rem + 4rem * ",");\n      "])),t-1)}),(function(e){var n=e.isVertical,t=e.shipLength;return!n&&Object(E.c)(w||(w=Object(F.a)(["\n        width: calc(3.8rem + 4rem * ","); ;\n      "])),t-1)})),he=E.d.div(S||(S=Object(F.a)(["\n  position: absolute;\n  z-index: 1;\n  top: 0;\n  right: 0;\n  height: 100%;\n  width: 100%;\n  background-color: black;\n  opacity: 0.6;\n"]))),ue=function(e){var n=e.gameboard,t=e.setUserGameboard,r=e.setHasGameStarted,i=[new Y(5),new Y(4),new Y(3),new Y(3),new Y(2)],o=["Carrier","Battleship","Destroyer","Submarine","Patrol Boat"],a=Object(P.useState)(0),c=Object(J.a)(a,2),s=c[0],d=c[1],h=Object(P.useState)(o[0]),u=Object(J.a)(h,2),l=u[0],b=u[1],m=Object(P.useState)(i[0]),f=Object(J.a)(m,2),j=f[0],p=f[1],O=Object(P.useState)(!1),g=Object(J.a)(O,2),v=g[0],y=g[1];return Object(B.jsxs)(oe,{children:[Object(B.jsxs)(ae,{children:[Object(B.jsx)("p",{children:"Welcome to battleship game"}),Object(B.jsxs)("p",{children:["Place your ",l]}),Object(B.jsx)(ee,{content:"Rotate",onClick:function(){y(!v)}}),Object(B.jsx)(ce,{children:function(){for(var e=[],a=function(a){for(var c=function(c){e.push(Object(B.jsx)(se,{isFilled:!!n.board[a][c],onClick:function(){return function(e,a){var c=Object.assign(Object.create(Object.getPrototypeOf(n)),n);c.isPlacementPossible(j,e,a,v)&&(c.placeShip(j,e,a,v),t(c),d(s+1),p(i[s+1]),b(o[s+1]),s>3&&r(!0))}(a,c)},children:Object(B.jsx)(de,{shipLength:j.length,isVertical:v})},Object(N.a)()))},h=0;h<n.board[a].length;h++)c(h)},c=0;c<n.board.length;c++)a(c);return e}()})]}),Object(B.jsx)(he,{})]})},le=E.d.div(C||(C=Object(F.a)(["\n  font-size: 5rem;\n"]))),be=E.d.div(z||(z=Object(F.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  gap: 5rem;\n\n  @media (max-width: 768px) {\n    flex-direction: column;\n  }\n"]))),me=function(){var e=Object(P.useState)(!1),n=Object(J.a)(e,2),t=n[0],r=n[1],i=Object(P.useState)(!1),o=Object(J.a)(i,2),a=o[0],c=o[1],s=Object(P.useState)(""),d=Object(J.a)(s,2),h=d[0],u=d[1],l=Object(P.useState)(new K("User")),b=Object(J.a)(l,2),m=b[0],f=b[1],j=Object(P.useState)(new K("Computer")),p=Object(J.a)(j,2),O=p[0],g=p[1],v=Object(P.useState)(new q),y=Object(J.a)(v,2),x=y[0],k=y[1],w=Object(P.useState)(new q),S=Object(J.a)(w,2),C=S[0],z=S[1];Object(P.useEffect)((function(){H()}),[]);var H=function(){var e=new q;e.placeShipsRandomly(),z(e)};return Object(B.jsxs)(le,{children:[t?"":Object(B.jsx)(ue,{gameboard:x,setUserGameboard:k,setHasGameStarted:r}),a?Object(B.jsx)(ie,{message:h,resetGame:function(){f(new K("User")),g(new K("Computer")),c(!1),H(),k(new q),r(!1)}}):"",Object(B.jsxs)(be,{children:[Object(B.jsx)(Z,{gameboard:x,owner:m,enemy:O}),Object(B.jsx)(Z,{gameboard:C,owner:O,enemy:m,onFieldClick:function(e,n){if(!C.isGameOver()&&!x.isGameOver()&&!m.hasAlreadyHit(e,n)){var t=Object.assign(Object.create(Object.getPrototypeOf(m)),m),r=Object.assign(Object.create(Object.getPrototypeOf(O)),O),i=Object.assign(Object.create(Object.getPrototypeOf(x)),x),o=Object.assign(Object.create(Object.getPrototypeOf(C)),C);return t.attack(e,n,o),f(t),z(o),C.isGameOver()?(u("You won"),void c(!0)):(r.randomAttack(i),g(r),k(i),x.isGameOver()?(u("Computer won"),void c(!0)):void 0)}}})]})]})},fe=E.d.main(H||(H=Object(F.a)(["\n  margin-top: 12rem;\n\n  @media (max-width: 768px) {\n    margin-top: 3rem;\n  }\n"]))),je=function(){return Object(B.jsx)(fe,{children:Object(B.jsx)(me,{})})};var pe,Oe=function(){return Object(B.jsxs)(B.Fragment,{children:[Object(B.jsx)(I,{}),Object(B.jsx)(je,{}),Object(B.jsx)(T,{})]})},ge={colors:{light:{primary:"#eee",secondary:"#ddd"},dark:{primary:"#222",secondary:"#444"},red:"#ff8585",green:"#85ffb3"},padding:{sm:"1rem",md:"2rem",lg:"4rem"},width:{sm:"500px",md:"1000px",lg:"1500px"},borderRadius:{sm:"5px",md:"10px",lg:"20px"}},ve=E.b(pe||(pe=Object(F.a)(["\n  *,\n  *::before,\n  *::after {\n    box-sizing: border-box;\n    padding: 0;\n    margin: 0;\n  }\n\n  html {\n    font-size: 62.5%;\n    line-height: 1.6;\n    /* Footer support */\n    position: relative;\n    min-height: 100%;\n  }\n\n  body {\n    font-family: 'Poppins', sans-serif;\n    font-size: 1.6rem;\n    background-color: ",";\n    color: ",";\n    /* Footer support */\n    margin-bottom: 5.2rem;\n  }\n\n  h1,\n  h2,\n  h3,\n  h4,\n  h5,\n  h6 {\n    line-height: 1.2;\n  }\n\n  a {\n    text-decoration: none;\n  }\n\n  img {\n    display: block;\n    width: 100%;\n  }\n\n  button,\n  input,\n  textarea {\n    border: none;\n    outline: none;\n    color: inherit;\n    font-family: inherit;\n    font-size: inherit;\n  }\n\n  button {\n    cursor: pointer;\n  }\n\n  @media (max-width: 1600px) {\n    html {\n      font-size: 55%;\n    }\n  }\n\n  @media (max-width: 1400px) {\n    html {\n      font-size: 45%;\n    }\n  }\n"])),(function(e){return e.theme.colors.light.primary}),(function(e){return e.theme.colors.dark.primary}));G.a.render(Object(B.jsx)(M.a.StrictMode,{children:Object(B.jsxs)(E.a,{theme:ge,children:[Object(B.jsx)(ve,{}),Object(B.jsx)(Oe,{})]})}),document.getElementById("root"))}},[[26,1,2]]]);
//# sourceMappingURL=main.0d2a7c88.chunk.js.map